package com.visionarysoftwaresolutions.ordering;

import com.visionarysoftwaresolutions.refillable.interfaces.Doored;

public class Orderer {
	
	private Order pending;
	
	public void createOrder(){
		pending = new Order();
	}

	public void createOrder(Orderable product, int productQuantity, Storable deliverTo) {
		deliverTo.checkNotMoreThanCapacity(productQuantity);
		OrderContainer toHold = new OrderContainer(product, productQuantity);
		pending = new Order(toHold);		
	}
	
	public Order checkOrder(){
		return pending;
	}
	
	public int checkOrderByProductName(String productName){
		return pending.getCountForName(productName);
	}

	public void addToOrder(Orderable ordered, int productQuantity, Doored deliverTo) {
		OrderContainer container = new OrderContainer(ordered, productQuantity);
		pending.addContainer(container);
	}

	public void placeOrder(Manufacturer manny, Stocker stoner) {
		List<Orderable> ordered = manny.fill(pending); 
		stoner.stock(ordered);
	}

}
